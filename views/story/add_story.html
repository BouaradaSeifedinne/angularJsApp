
<div class="container fp-userDetail"  ng-controller="storyCtrl">
<form class="fp-userDetail" name="storyForm">
    <div class="row">
        <div class="col-md-10 ">
            <div class="">
            	<div class="row">
            		<div class="col-lg-12">

  <fieldset>

  <!-- Form Name -->
  <legend class="legend">Add story</legend>


  <input type="hidden" name="authorId" ng-model="authorId" class="form-control" value="5aa3148a268d9b158e3a068c" />
  <input type="hidden" name="status" ng-model="status" class="form-control" value="1" />

  <!-- Text input-->




<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Title</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.title.$invalid && !storyForm.title.$pristine }">
    <input type="text" class="form-control input-md" name="Title" placeholder="Title" ng-model="new_story.title">
    <p ng-show="storyForm.title.$error.minlength" class="help-block">Content is too short.</p>
  </div>
</div>



<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Summary</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.summary.$invalid && !storyForm.summary.$pristine }">
    <input type="text" class="form-control input-md" name="summary" placeholder="summary" ng-model="new_story.summary">
    <p ng-show="storyForm.summary.$error.minlength" class="help-block">Content is too short.</p>
  </div>
</div>


<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Content</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.content.$invalid && !storyForm.content.$pristine }">
    <textarea type="text" name="content" value="" ng-model="new_story.content" class="form-control" placeholder="Content" rows="15"></textarea>
  </div>
</div>


<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Price</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.price.$invalid && !storyForm.price.$pristine }">
    <input type="text" class="form-control input-md" name="price" placeholder="price" ng-model="new_story.price">
  </div>
</div>



 <div class="form-group row">
   <label for="inputEmail3" class="col-sm-3 col-form-label">Thumbnail</label>
   <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.thumbnail.$invalid && !storyForm.thumbnail.$pristine }">
    <!-- <input type="text" class="form-control input-md" name="thumbnail" placeholder="thumbnail" ng-model="new_story.thumbnail"> -->


     <input type="file" name="thumb" id="thumb" ng-model="new_story.thumb" class="form-control input-md" onchange="readURL(this);" />
     <input type="hidden" id="thumb2" name="thumb2" class="form-control input-md" />

   </div>
 </div>



<!--

<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Thumbnail</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.thumbnail.$invalid && !storyForm.thumbnail.$pristine }">
    <input type="text" class="form-control input-md" name="thumbnail" placeholder="thumbnail" ng-model="new_story.thumbnail">
  </div>
</div>

-->


<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Country</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.country.$invalid && !storyForm.country.$pristine }">
    <select ng-model="story.country"  class="form-control"  data-placeholder="Add Countries">
        <option value=""></option>
        <option value="USA">USA</option>
        <option value="UK">UK</option>
        <option value="France">France</option>
    </select>
      <p ng-show="storyForm.country.$invalid && !storyForm.country.$pristine" class="help-block">Enter a valid tag.</p>
  </div>
</div>


<div class="form-group row">
  <label for="inputEmail3" class="col-sm-3 col-form-label">Sector</label>
  <div class="col-sm-6" ng-class="{ 'has-error' : storyForm.sector.$invalid && !storyForm.sector.$pristine }">
    <select ng-model="story.sector"  class="form-control"  data-placeholder="Add sector">
      <option value=""></option>
      <option value="Economy">Economy</option>
      <option value="Arts">Arts</option>
      <option value="Social">Social</option>
    </select>
      <p ng-show="storyForm.sector.$invalid && !storyForm.sector.$pristine" class="help-block">Enter a valid tag.</p>
  </div>
</div>


<div class="form-group">
  <!--button type="button" class="btn btn-default" ng-click="new_story.preview()">Preview</button-->
  <!--button type="button" class="btn btn-info" ng-disabled="storyForm.$invalid">Save</button-->

</div>


</fieldset>

<script>
   function readURL(input) {
					if (input.files && input.files[0]) {
						var reader = new FileReader();
						reader.onload = function (e) {
							document.getElementById('thumb2').value =  e.target.result;
						}
            reader.readAsDataURL(input.files[0]);
            console.log('test');
					}
				}

   </script>






</div>
</div>
</div>
</div>

<div class="col-md-2">
<div class="row">
<div><br><br></div>
</div>


<div class="statProfile" > <a class="btn btn-outline-primary btn-sm btn-block" ng-disabled="storyForm.$invalid" ng-click="saveStory(new_story)" > Submit Story</a> </div>
<div class="statProfile" > <a class="btn btn-outline-success btn-sm btn-block" href=""> Push Story</a> </div>
<div class="statProfile" > <a class="btn btn-outline-primary btn-sm btn-block" href="javascript:history.go(-1)">Back to list</a></div>



</div>




</div>
</form>
</div>
